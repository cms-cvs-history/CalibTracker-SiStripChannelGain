process ICALIB = {
    
    service = MessageLogger {
	untracked vstring destinations = { "logfile__insertRun_.txt" }
	untracked PSet logfile__insertRun_.txt = { untracked string threshold = "INFO" }
    }
    
    source = EmptyIOVSource {
	string timetype = "runnumber"
        uint64 firstValue = _insertRun_
	uint64 lastValue = _insertRun_
        uint64 interval = 1
    }
    untracked PSet maxEvents = {untracked int32 input = 1}
    
    
    service = PoolDBOutputService{
	string connect = "oracle://orcon/CMS_COND_STRIP" 
	#string connect = "oracle://cms_orcoff_int2r/CMS_COND_STRIP"
	#string connect = "sqlite_file:GainFromAsciiFile.db"    
	#
	untracked string timetype = "runnumber"    
	#string timetype = "timestamp"    

	untracked string BlobStreamerName="TBufferBlobStreamingService"
	PSet DBParameters = {
	    #untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
	    untracked string authenticationPath="/afs/cern.ch/user/x/xiezhen/auth/orconowner/"
	    untracked int32 messageLevel=2
	}
	
        VPSet toPut={ { string record = "SiStripApvGainRcd"   string tag ="SiStripApvGain_TickMarksfromASCII_TIF"} }    
    }
    
    module gain =  SiStripGainFromAsciiFile {
	
	string           InputFileName      = "_inputFile_"
	untracked bool   printDebug         = true
	
        double referenceValue = 640
	
	bool SinceAppendMode = true
	string IOVMode	     = "Run"
	string Record        = "SiStripApvGainRcd"
	bool doStoreOnDB     = true
    }
    
    
    path p = { gain }
    
    module print = AsciiOutputModule {}
    endpath ep = { print }
}

