      
process MULTI =  {

source = PoolSource 
{ 
      untracked vstring fileNames = {
      }
#      untracked uint32 skipEvents = XXX_SKIPEVENT_XXX
}
#include "CalibTracker/SiStripChannelGain/test/iCSA08_S43/InputFiles.cff"
include "CalibTracker/SiStripChannelGain/test/iCSA08_S43/XXX_INPUT_XXX"
untracked PSet maxEvents = {untracked int32 input = XXX_NEVENTS_XXX}

include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

#include "CalibTracker/Configuration/data/SiStripLorentzAngle/SiStripLorentzAngle_Fake.cff"
#include "CalibTracker/Configuration/data/SiPixelLorentzAngle/SiPixelLorentzAngle_Fake.cff"

include "Configuration/StandardSequences/data/FrontierConditions_GlobalTag.cff"
replace GlobalTag.globaltag = "STARTUP_V2::All"


include "RecoTracker/TrackProducer/data/RefitterWithMaterial.cff"
replace TrackRefitter.src               = ALCARECOSiStripCalMinBias
replace TrackRefitter.TrajectoryInEvent = true

module SiStripCalib = SiStripGainFromData { 
                string   AlgoMode            = "MultiJob"

               string   OutputHistos         = "XXX_OUTPUT_XXX"
               string   OutputGains          = "XXX_OUTPUT_XXX.txt"

                string   TrajToTrackProducer = "TrackRefitter"
                string   TrajToTrackLabel    = ""

      untracked double   minTrackMomentum    = 1
      untracked uint32   minNrEntries        = 100
      untracked double   maxChi2OverNDF      = 9999999
      untracked double   maxMPVError         = 1000000
      untracked uint32   maxNrStrips         = 8

        bool SinceAppendMode      = true
        string IOVMode            = "Job"
        string Record             = "SiStripApvGainRcd"
        bool doStoreOnDB          = false
}

service = PoolDBOutputService{
   string connect = "sqlite_file:Gain_MinBias.db"
  untracked  string timetype = "runnumber"    
  #string timetype = "timestamp"    

  untracked string BlobStreamerName="TBufferBlobStreamingService"
  PSet DBParameters = {
     untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
     untracked int32 messageLevel=2
  }

  VPSet toPut={ { string record = "SiStripApvGainRcd"   string tag ="Gain_CSA08_MinBias"} }    
}

#module OUT = PoolOutputModule 
#{ 
#     untracked string fileName = "XXX_OUTPUT_XXX_out.root"
#}


path p = {TrackRefitter, SiStripCalib} 
#endpath outpath = {OUT}
#schedule = {p,outpath}


}
