
process ICALIB = {
    
    source = EmptyIOVSource {
        string timetype = "runnumber"
        untracked uint32 firstRun = 1
	untracked uint32 lastRun = 1
        uint32 interval = 1
    }
    
    #    source = EmptySource {
    #	untracked int32 maxEvents = 1
    #	untracked uint32 firstRun = 1 
    #	untracked uint32 numberEventsInRun = 1
    #    }
    
    service = MessageLogger {
	untracked vstring destinations = { "logfile_100invpb.txt" }
	untracked PSet logfile_100invpb.txt = { untracked string threshold = "INFO" }
    }
    
    
    #Geometry
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
    include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"   
    
    #    es_module = TrackerGeometricDetESModule {}
    es_module = TrackerDigiGeometryESModule {}
    
    service = Timing {}
    #       service = SimpleProfiling {}
    
    service = PoolDBOutputService{
	string connect = "oracle://cms_orcoff_int2r/CMS_COND_STRIP" 
	#
	string timetype = "runnumber"    
	#	string timetype = "timestamp"    

	 untracked string BlobStreamerName="DefaultBlobStreamingService"

	PSet DBParameters = {
	    untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
	    untracked int32 messageLevel=2
	   	}
	
        VPSet toPut={ { string record = "SiStripApvGainRcd"   string tag ="CSA07_SiStrip_100invpb_Gain"} }    
    }
    
    #gain            
    
    module prod =  SiStripGainRandomCalculator {
	
	double MinPositiveGain = 0.1
	double MeanGain    = 1
	double SigmaGain   = 0.05
	untracked bool   printDebug = true
	
	bool SinceAppendMode = true
	string IOVMode	     = "Run"
	string Record        = "SiStripApvGainRcd"
	bool doStoreOnDB     = true
    
    }
    
    path p = { prod }
    
    module print = AsciiOutputModule {}
    endpath ep = { print }
}

